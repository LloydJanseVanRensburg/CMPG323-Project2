(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[1],{141:function(e,t,a){var r={"./ion-action-sheet.entry.js":[302,5],"./ion-alert.entry.js":[303,6],"./ion-app_8.entry.js":[304,7],"./ion-avatar_3.entry.js":[305,17],"./ion-back-button.entry.js":[306,18],"./ion-backdrop.entry.js":[307,43],"./ion-button_2.entry.js":[308,19],"./ion-card_5.entry.js":[309,20],"./ion-checkbox.entry.js":[310,21],"./ion-chip.entry.js":[311,22],"./ion-col_3.entry.js":[312,44],"./ion-datetime_3.entry.js":[313,10],"./ion-fab_3.entry.js":[314,23],"./ion-img.entry.js":[315,45],"./ion-infinite-scroll_2.entry.js":[316,46],"./ion-input.entry.js":[317,24],"./ion-item-option_3.entry.js":[318,25],"./ion-item_8.entry.js":[319,26],"./ion-loading.entry.js":[320,27],"./ion-menu_3.entry.js":[321,28],"./ion-modal.entry.js":[322,8],"./ion-nav_2.entry.js":[323,14],"./ion-popover.entry.js":[324,9],"./ion-progress-bar.entry.js":[325,29],"./ion-radio_2.entry.js":[326,30],"./ion-range.entry.js":[327,31],"./ion-refresher_2.entry.js":[328,11],"./ion-reorder_2.entry.js":[329,16],"./ion-ripple-effect.entry.js":[330,47],"./ion-route_4.entry.js":[331,32],"./ion-searchbar.entry.js":[332,33],"./ion-segment_2.entry.js":[333,34],"./ion-select_3.entry.js":[334,35],"./ion-slide_2.entry.js":[335,48],"./ion-spinner.entry.js":[336,13],"./ion-split-pane.entry.js":[337,49],"./ion-tab-bar_2.entry.js":[338,36],"./ion-tab_2.entry.js":[339,15],"./ion-text.entry.js":[340,37],"./ion-textarea.entry.js":[341,38],"./ion-toast.entry.js":[342,39],"./ion-toggle.entry.js":[343,12],"./ion-virtual-scroll.entry.js":[344,50]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=141,e.exports=n},143:function(e,t,a){var r={"./ion-icon.entry.js":[345,57]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=143,e.exports=n},257:function(e,t,a){},258:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(42),c=a.n(n),s=Object(r.createContext)({}),o=a(22),i=a(128),l=a(2),u=a(11),d=a(5),j=a.n(d),b=a(8),p=a(9),O=Object(r.createContext)({}),g=a(62),h=(a(257),"http://172.104.244.191/api/v1"),m=Object(r.createContext)({}),x=(a(258),a(1)),f=function(e){var t=e.albumData,a=Object(o.e)();return Object(x.jsxs)("div",{className:"albumCard",onClick:function(){return a.push("/my/albums/".concat(t.id))},children:[Object(x.jsx)("div",{className:"albumCard__colorCircle",style:{backgroundColor:"".concat(t.color)},children:t.title[0].toUpperCase()}),Object(x.jsx)("p",{children:t.title})]})},v=a(19),_=a.n(v),y=function(){var e,t=Object(o.e)(),a=Object(r.useRef)(""),n=Object(r.useState)(!1),c=Object(p.a)(n,2),s=c[0],i=c[1],d=Object(r.useState)({showPopover:!1,event:void 0}),v=Object(p.a)(d,2),y=v[0],D=v[1],L=Object(r.useState)(!1),A=Object(p.a)(L,2),E=A[0],w=A[1],C=Object(r.useState)(""),S=Object(p.a)(C,2),k=S[0],N=S[1],G=Object(r.useState)(""),U=Object(p.a)(G,2),P=U[0],I=U[1],T=Object(r.useState)(""),R=Object(p.a)(T,2),B=R[0],F=R[1],z=Object(r.useState)(!1),q=Object(p.a)(z,2),M=q[0],H=q[1],W=Object(r.useState)(null),K=Object(p.a)(W,2),J=K[0],$=K[1],V=Object(r.useState)(""),Q=Object(p.a)(V,2),X=Q[0],Y=Q[1],Z=Object(r.useState)(""),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],re=Object(o.f)().groupId,ne=Object(r.useContext)(m),ce=ne.deleteGroup,se=ne.deleteGroupLoading,oe=Object(r.useContext)(O),ie=oe.getGroupData,le=oe.groupData,ue=oe.groupDataLoading,de=oe.clearGroupData,je=oe.searchAlbums,be=oe.searchAlbumsHandler,pe=oe.createNewAlbum,Oe=oe.albumDataLoading,ge=oe.getGroupAlbumData,he=oe.addAlbumLoading,me=oe.albumData,xe=oe.editGroup,fe=oe.editGroupLoading;Object(l.R)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(re);case 2:return e.next=4,ge(re);case 4:case"end":return e.stop()}}),e)}))),[re]),Object(l.S)((function(){de()}));var ve=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k){e.next=4;break}return console.log("No album title provided"),e.abrupt("return");case 4:if(P){e.next=7;break}return console.log("No album description provided"),e.abrupt("return");case 7:return a={title:k,description:P,groupId:le.id,color:B},e.next=10,pe(a);case 10:N(""),I(""),F(""),w(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:X,description:te,image:J},e.next=4,xe(re,a);case 4:H(!1),ae(""),Y(""),$(null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",t.target.files[0]),r={headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=3,e.next=6,_.a.post("".concat(h,"/groups/upload"),a,r);case 6:n=e.sent,$(n.data.data.imageKey),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(l.v,{children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{className:"page__iontoolbartitle",children:[Object(x.jsx)(l.e,{slot:"start",children:Object(x.jsx)(l.c,{defaultHref:"/my/groups"})}),Object(x.jsx)(l.G,{className:"page__Title",children:"Group"}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{onClick:function(e){e.persist(),D({showPopover:!0,event:e})},children:Object(x.jsx)(l.o,{slot:"icon-only",ios:u.k,md:u.l})})}),Object(x.jsx)(l.w,{cssClass:"my-custom-class",event:y.event,isOpen:y.showPopover,onDidDismiss:function(){return D({showPopover:!1,event:void 0})},children:Object(x.jsxs)(l.s,{children:[Object(x.jsx)(l.q,{onClick:function(){Y(null===le||void 0===le?void 0:le.title),ae(null===le||void 0===le?void 0:le.description),H(!0),D({showPopover:!1,event:void 0})},children:Object(x.jsx)(l.r,{children:"Edit Group"})}),Object(x.jsx)(l.q,{onClick:function(){i(!0),D({showPopover:!1,event:void 0})},children:Object(x.jsx)(l.r,{children:"Delete Group"})})]})})]})}),Object(x.jsxs)(l.l,{fullscreen:!0,children:[Object(x.jsxs)("div",{className:"content__container",children:[Object(x.jsx)(l.t,{isOpen:se}),Object(x.jsx)(l.a,{isOpen:s,onDidDismiss:function(){return i(!1)},cssClass:"my-custom-class",header:"Confirm!",message:"Are you  sure you want to delete group",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){D({showPopover:!1,event:void 0})}},{text:"Okay",handler:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(re);case 2:t.push("/my/groups");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]}),ue&&Object(x.jsx)("div",{className:"loading_spinner",children:Object(x.jsx)(l.C,{name:"circles"})}),!ue&&le&&Object(x.jsxs)("div",{className:"group__maincontainer",children:[Object(x.jsx)("div",{className:"group__groupPicture",children:Object(x.jsx)("img",{src:"".concat(h,"/image/").concat(le.groupPicture),alt:""})}),Object(x.jsxs)("div",{className:"group__info",children:[Object(x.jsx)("h2",{children:le.title}),Object(x.jsx)("p",{children:le.description})]}),Object(x.jsxs)("div",{className:"group__statsInfo",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:null===le||void 0===le?void 0:le.memberCount}),Object(x.jsx)("p",{children:"members"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:me.length}),Object(x.jsx)("p",{children:"albums"})]})]}),Object(x.jsx)(l.B,{ref:a,value:null===(e=a.current)||void 0===e?void 0:e.value,onIonChange:be,debounce:400}),Object(x.jsx)(l.m,{className:"ion-padding",children:Object(x.jsx)(l.A,{className:"ion-align-items-center",children:Oe?Object(x.jsx)("div",{className:"loading_spinner",children:Object(x.jsx)(l.C,{name:"circles"})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.k,{size:"3",children:Object(x.jsx)("div",{className:"albumCard",onClick:function(){return w(!0)},children:Object(x.jsx)("div",{children:Object(x.jsx)(l.o,{size:"large",icon:u.a})})})}),je.map((function(e){return Object(x.jsx)(l.k,{size:"3",children:Object(x.jsx)(f,{albumData:e})},e.id)}))]})})})]})]}),Object(x.jsxs)(l.u,{onDidDismiss:function(){return w(!1)},isOpen:E,children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{children:[Object(x.jsx)(l.G,{className:"page__Title",children:"Create Album"}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{disabled:he,color:"danger",onClick:function(){return w(!1)},children:"Close"})})]})}),Object(x.jsx)(l.l,{children:Object(x.jsxs)("form",{onSubmit:ve,className:"createAlbum_form",children:[Object(x.jsx)(g.a,{className:"createAlbum__modal__colorpicker",color:B,onChangeComplete:function(e,t){F(e.hex)}}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Title"}),Object(x.jsx)(l.p,{value:k,onIonChange:function(e){return N(e.detail.value)}})]}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Description"}),Object(x.jsx)(l.p,{multiple:!0,value:P,onIonChange:function(e){return I(e.detail.value)}})]}),Object(x.jsx)(l.d,{disabled:he,type:"submit",expand:"full",children:he?Object(x.jsx)(l.C,{name:"circles"}):"Create"})]})})]}),Object(x.jsxs)(l.u,{onDidDismiss:function(){return H(!1)},isOpen:M,children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{children:[Object(x.jsx)(l.G,{className:"page__Title",children:"Edit Group"}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{disabled:fe,color:"danger",onClick:function(){return H(!1)},children:"Close"})})]})}),Object(x.jsx)(l.l,{children:Object(x.jsxs)("form",{onSubmit:_e,className:"createGroup_form",children:[Object(x.jsx)("input",{type:"file",onChange:ye}),J?Object(x.jsx)("div",{className:"createGroup__modal__imageplaceholder",children:Object(x.jsx)("img",{src:"".concat(h,"/image/").concat(J),alt:"uploaded group profile"})}):Object(x.jsx)("div",{className:"createGroup__modal__imageplaceholder",children:Object(x.jsx)("img",{src:"".concat(h,"/image/").concat(null===le||void 0===le?void 0:le.groupPicture),alt:"uploaded group profile"})}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Title"}),Object(x.jsx)(l.p,{value:X,onIonChange:function(e){return Y(e.detail.value)}})]}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Description"}),Object(x.jsx)(l.p,{multiple:!0,value:te,onIonChange:function(e){return ae(e.detail.value)}})]}),Object(x.jsx)(l.d,{disabled:fe,type:"submit",expand:"full",children:fe?Object(x.jsx)(l.C,{name:"circles"}):"Edit"})]})})]})]})]})},D=(a(277),function(e){var t=e.groupData,a=Object(o.e)();return Object(x.jsxs)("div",{className:"groupCard",onClick:function(){return a.push("/my/groups/".concat(t.id))},children:[Object(x.jsx)("div",{className:"groupCard__imageContainer",children:Object(x.jsx)("img",{src:"".concat(h,"/image/").concat(t.groupPicture),alt:"group profile"})}),Object(x.jsx)("p",{children:t.title})]})}),L=(a(278),function(e){var t=e.groups,a=e.setShowModal,n=Object(r.useContext)(s).userData;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(l.m,{className:"grouplist__grid",children:[Object(x.jsx)("h4",{children:"Created by you"}),Object(x.jsxs)(l.A,{className:"ion-align-items-center",children:[Object(x.jsx)(l.k,{size:"3",children:Object(x.jsx)("div",{className:"groupCard",onClick:function(){return a(!0)},children:Object(x.jsx)("div",{children:Object(x.jsx)(l.o,{size:"large",icon:u.a})})})}),t.map((function(e){return e.owner===n.id?Object(x.jsx)(l.k,{size:"3",children:Object(x.jsx)(D,{groupData:e})},e.id):null}))]})]}),Object(x.jsx)("hr",{className:"grouplist__divider"}),Object(x.jsxs)(l.m,{className:"grouplist__grid",children:[Object(x.jsx)("h4",{children:"Following"}),Object(x.jsx)(l.A,{className:"ion-align-items-center",children:t.map((function(e){return e.owner!==n.id?Object(x.jsx)(l.k,{size:"3",children:Object(x.jsx)(D,{groupData:e})},e.id):null}))})]})]})}),A=(a(279),function(){var e=Object(r.useContext)(m),t=e.groupsDataLoading,a=e.groupsDataError,n=e.searchResults,c=e.getUserGroupsData,s=e.setGroupsDataError,o=e.searchGroupsHandler,i=e.createNewGroup,d=e.addGroupLoading,O=Object(r.useState)(!1),g=Object(p.a)(O,2),f=g[0],v=g[1],y=Object(r.useState)(""),D=Object(p.a)(y,2),A=D[0],E=D[1],w=Object(r.useState)(""),C=Object(p.a)(w,2),S=C[0],k=C[1],N=Object(r.useState)(null),G=Object(p.a)(N,2),U=G[0],P=G[1],I=Object(r.useRef)("");Object(l.R)((function(){c()}));var T=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:A,description:S,image:U},e.next=4,i(a);case 4:E(""),k(""),P(null),v(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",t.target.files[0]),r={headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=3,e.next=6,_.a.post("".concat(h,"/groups/upload"),a,r);case 6:n=e.sent,P(n.data.data.imageKey),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(l.v,{children:[Object(x.jsx)(l.n,{children:Object(x.jsx)(l.I,{className:"page__iontoolbartitle",children:Object(x.jsx)(l.G,{className:"page__Title",children:"Groups"})})}),Object(x.jsx)(l.l,{fullscreen:!0,children:Object(x.jsxs)("div",{className:"content__container",children:[Object(x.jsx)(l.H,{isOpen:""!==a,onDidDismiss:function(){return s("")},message:a,color:"danger",duration:5e3,buttons:[{side:"end",role:"cancel",icon:u.i,handler:function(){s("")}}]}),Object(x.jsx)(l.B,{ref:I,value:I.current.value,onIonChange:o,debounce:400}),t&&Object(x.jsx)("div",{className:"loading_spinner",children:Object(x.jsx)(l.C,{})}),!t&&Object(x.jsx)(L,{setShowModal:v,groups:n}),Object(x.jsxs)(l.u,{onDidDismiss:function(){return v(!1)},isOpen:f,children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{children:[Object(x.jsx)(l.G,{className:"page__Title",children:"Create Group"}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{disabled:d,color:"danger",onClick:function(){return v(!1)},children:"Close"})})]})}),Object(x.jsx)(l.l,{children:Object(x.jsxs)("form",{onSubmit:T,className:"createGroup_form",children:[Object(x.jsx)("input",{type:"file",onChange:R}),U?Object(x.jsx)("div",{className:"createGroup__modal__imageplaceholder",children:Object(x.jsx)("img",{src:"".concat(h,"/image/").concat(U),alt:"uploaded group profile"})}):Object(x.jsx)("div",{className:"createGroup__modal__imageplaceholder",children:Object(x.jsx)("p",{children:"Choose Image"})}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Title"}),Object(x.jsx)(l.p,{value:A,onIonChange:function(e){return E(e.detail.value)}})]}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Description"}),Object(x.jsx)(l.p,{multiple:!0,value:S,onIonChange:function(e){return k(e.detail.value)}})]}),Object(x.jsx)(l.d,{disabled:d,type:"submit",expand:"full",children:d?Object(x.jsx)(l.C,{name:"circles"}):"Create"})]})})]})]})})]})}),E=(a(280),function(){var e=Object(r.useContext)(s),t=e.userData,a=e.logoutUser,n=Object(r.useState)({showPopover:!1,event:void 0}),c=Object(p.a)(n,2),o=c[0],i=c[1],d=Object(r.useState)(!1),j=Object(p.a)(d,2),b=j[0],O=j[1];return Object(x.jsxs)(l.v,{children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{className:"page__iontoolbartitle",children:[Object(x.jsx)(l.e,{slot:"start",onClick:function(){a()},children:Object(x.jsx)(l.d,{children:"Logout"})}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{onClick:function(e){e.persist(),i({showPopover:!0,event:e})},children:Object(x.jsx)(l.o,{slot:"icon-only",ios:u.k,md:u.l})})}),Object(x.jsx)(l.G,{className:"page__Title",children:"Profile"}),Object(x.jsx)(l.w,{cssClass:"my-custom-class",event:o.event,isOpen:o.showPopover,onDidDismiss:function(){return i({showPopover:!1,event:void 0})},children:Object(x.jsx)(l.s,{children:Object(x.jsx)(l.q,{onClick:function(){O(!0),i({showPopover:!1,event:void 0})},children:Object(x.jsx)(l.r,{children:"Edit Account"})})})})]})}),Object(x.jsx)(l.l,{fullscreen:!0,children:Object(x.jsxs)("div",{className:"content__container",children:[Object(x.jsx)("div",{className:"home__accountPfp",children:Object(x.jsx)("div",{className:"home__avatarpfp",children:Object(x.jsx)("img",{src:"/user-default-pfp.png",alt:"user profile"})})}),Object(x.jsxs)("div",{className:"home__account-info",children:[Object(x.jsxs)("div",{className:"home__account-info1",children:[Object(x.jsx)("h2",{children:null===t||void 0===t?void 0:t.username}),Object(x.jsx)("p",{children:"Something about me."})]}),Object(x.jsxs)("div",{className:"home__account-info2",children:[Object(x.jsx)("p",{children:"Email"}),Object(x.jsx)("p",{children:null===t||void 0===t?void 0:t.email})]}),Object(x.jsxs)("div",{className:"home__account-info3",children:[Object(x.jsx)(l.o,{size:"small",icon:u.o}),Object(x.jsx)("p",{children:"Notifications"})]})]}),Object(x.jsxs)(l.u,{onDidDismiss:function(){return O(!1)},isOpen:b,children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{children:[Object(x.jsx)(l.G,{className:"home__modal__headertitle",children:"Edit Profile"}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{color:"danger",onClick:function(){return O(!1)},children:"Close"})})]})}),Object(x.jsxs)(l.l,{children:[Object(x.jsx)("div",{className:"home__modal__accountPfp",children:Object(x.jsxs)("div",{className:"home__modal__avatarpfp",children:[Object(x.jsx)("img",{src:"/user-default-pfp.png",alt:"user profile"}),Object(x.jsx)("div",{className:"home__modal__editpfpBtn",children:Object(x.jsx)(l.o,{size:"large",icon:u.c})})]})}),Object(x.jsxs)("div",{className:"home__modal__inputs",children:[Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Username"}),Object(x.jsx)(l.p,{})]}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Bio"}),Object(x.jsx)(l.p,{multiple:!0})]}),Object(x.jsx)(l.d,{type:"submit",expand:"full",children:"Update Profile"})]})]})]})]})})]})}),w=function(e){var t=e.showModal,a=e.showPopover,r=e.deleteAlbumHandler,n=e.editAlbumHandler;return Object(x.jsxs)(l.s,{children:[Object(x.jsx)(l.q,{onClick:n,children:Object(x.jsx)(l.r,{children:"Edit Album"})}),Object(x.jsx)(l.q,{onClick:r,children:Object(x.jsx)(l.r,{children:"Delete Album"})}),Object(x.jsx)(l.q,{onClick:function(){t(!0),a({showPopover:!1,event:void 0})},children:Object(x.jsx)(l.r,{children:"Add Post"})})]})},C=a(350),S=a(349),k=(a(281),a(282),a(283),Object(r.createContext)({})),N=function(e){var t=e.postData,a=Object(r.useContext)(k).deletePost,n=Object(r.useState)(!1),c=Object(p.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)({showPopover:!1,event:void 0}),d=Object(p.a)(i,2),O=d[0],g=d[1];return Object(x.jsxs)(l.f,{className:"postCard",children:[Object(x.jsxs)(l.h,{className:"postCard__header",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(l.i,{children:t.createdAt}),Object(x.jsx)(l.j,{children:t.title})]}),Object(x.jsx)(l.e,{children:Object(x.jsx)(l.d,{onClick:function(e){e.persist(),g({showPopover:!0,event:e})},children:Object(x.jsx)(l.o,{slot:"icon-only",ios:u.k,md:u.l})})}),Object(x.jsx)(l.w,{cssClass:"my-custom-class",event:O.event,isOpen:O.showPopover,onDidDismiss:function(){return g({showPopover:!1,event:void 0})},children:Object(x.jsxs)(l.s,{children:[Object(x.jsx)(l.q,{onClick:function(){console.log("Editing post...")},children:Object(x.jsx)(l.r,{children:"Edit Post"})}),Object(x.jsx)(l.q,{onClick:function(){o(!0),g({showPopover:!1,event:void 0})},children:Object(x.jsx)(l.r,{children:"Delete Post"})})]})})]}),Object(x.jsx)(C.a,{slidesPerView:1,className:"postCard__swiper",children:t.files.map((function(e,t){return Object(x.jsx)(S.a,{children:Object(x.jsx)("img",{src:"".concat(h,"/image/").concat(e),alt:""})},t)}))}),Object(x.jsx)(l.g,{className:"postCard__content",children:t.body}),Object(x.jsx)(l.a,{isOpen:s,onDidDismiss:function(){return o(!1)},cssClass:"my-custom-class",header:"Confirm!",message:"Are you  sure you want to delete post",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){g({showPopover:!1,event:void 0})}},{text:"Okay",handler:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.id);case 2:o(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]})]})},G=(a(284),function(){var e,t=Object(o.e)(),a=Object(r.useState)(!1),n=Object(p.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)({showPopover:!1,event:void 0}),d=Object(p.a)(i,2),m=d[0],f=d[1],v=Object(r.useState)(!1),y=Object(p.a)(v,2),D=y[0],L=y[1],A=Object(r.useState)(""),E=Object(p.a)(A,2),C=E[0],S=E[1],G=Object(r.useState)(""),U=Object(p.a)(G,2),P=U[0],I=U[1],T=Object(r.useState)(""),R=Object(p.a)(T,2),B=R[0],F=R[1],z=Object(r.useState)(!1),q=Object(p.a)(z,2),M=q[0],H=q[1],W=Object(r.useState)(""),K=Object(p.a)(W,2),J=K[0],$=K[1],V=Object(r.useState)(""),Q=Object(p.a)(V,2),X=Q[0],Y=Q[1],Z=Object(r.useState)(""),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],re=Object(r.useRef)(""),ne=Object(o.f)().albumId,ce=Object(r.useContext)(O),se=ce.deleteAlbumLoading,oe=ce.deleteAlbum,ie=Object(r.useContext)(k),le=ie.currentAlbum,ue=ie.getAlbumData,de=ie.getAlbumPostData,je=ie.clearAlbumData,be=ie.albumDataLoading,pe=ie.postsDataLoading,Oe=ie.albumPosts,ge=ie.createNewPost,he=ie.deletePostLoading,me=ie.editAlbum,xe=ie.editAlbumLoading;Object(l.R)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(ne);case 2:return e.next=4,de(ne);case 4:case"end":return e.stop()}}),e)}))),[ne]),Object(l.S)((function(){je()}));var fe=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new FormData,r=t.target.files,n=0;n<r.length;n++)a.append("image",r[n]);return c={headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=4,e.next=7,_.a.post("".concat(h,"/posts/upload"),a,c);case 7:s=e.sent,S(s.data.data.imageKeys),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),P){e.next=4;break}return console.log("No title added"),e.abrupt("return");case 4:if(B){e.next=7;break}return console.log("No body added"),e.abrupt("return");case 7:if(C){e.next=10;break}return console.log("No file uploaded"),e.abrupt("return");case 10:return a={albumId:ne,title:P,body:B,files:C},e.next=13,ge(a);case 13:I(""),F(""),S(""),L(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:J,description:X,color:te},e.next=4,me(ne,a);case 4:H(!1),Y(""),$(""),ae("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(l.v,{children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{className:"page__iontoolbartitle",children:[Object(x.jsx)(l.e,{slot:"start",children:Object(x.jsx)(l.c,{defaultHref:"/my/groups"})}),Object(x.jsx)(l.G,{className:"page__Title",children:"Album"}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{onClick:function(e){e.persist(),f({showPopover:!0,event:e})},children:Object(x.jsx)(l.o,{slot:"icon-only",ios:u.k,md:u.l})})}),Object(x.jsx)(l.w,{cssClass:"my-custom-class",event:m.event,isOpen:m.showPopover,onDidDismiss:function(){return f({showPopover:!1,event:void 0})},children:Object(x.jsx)(w,{editAlbumHandler:function(){f({showPopover:!1,event:void 0}),$(null===le||void 0===le?void 0:le.title),Y(null===le||void 0===le?void 0:le.description),ae(null===le||void 0===le?void 0:le.color),H(!0)},deleteAlbumHandler:function(){s(!0)},showModal:L,showPopover:f})})]})}),Object(x.jsxs)(l.l,{className:"albumpage__content",children:[Object(x.jsxs)("div",{className:"content__container",children:[Object(x.jsx)(l.t,{isOpen:he}),Object(x.jsx)(l.t,{isOpen:se}),be&&Object(x.jsx)("div",{className:"loading_spinner",children:Object(x.jsx)(l.C,{name:"circles"})}),!be&&le&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"albumpage__colorbar",style:{backgroundColor:"".concat(null===le||void 0===le?void 0:le.color)},children:Object(x.jsxs)("div",{className:"group__info",children:[Object(x.jsx)("h2",{children:le.title}),Object(x.jsx)("p",{children:le.description}),Object(x.jsxs)("p",{children:[Oe.length," Posts"]})]})}),Object(x.jsx)(l.B,{ref:re,value:null===(e=re.current)||void 0===e?void 0:e.value,onIonChange:function(){},debounce:400}),Object(x.jsxs)("div",{className:"albumpage__postslist",children:[pe&&Object(x.jsx)(l.C,{name:"circles"}),!pe&&Oe.length>0?Oe.map((function(e){return Object(x.jsx)(N,{postData:e},e.id)})):Object(x.jsx)("p",{children:"No posts"})]})]}),Object(x.jsx)(l.a,{isOpen:c,onDidDismiss:function(){return s(!1)},cssClass:"my-custom-class",header:"Confirm!",message:"Are you  sure you want to delete album",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){f({showPopover:!1,event:void 0})}},{text:"Okay",handler:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({showPopover:!1,event:void 0}),e.next=3,oe(ne);case 3:s(!1),t.push("/my/groups/".concat(le.groupId));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]})]}),Object(x.jsxs)(l.u,{onDidDismiss:function(){return L(!1)},isOpen:D,children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{children:[Object(x.jsx)(l.G,{className:"page__Title",children:"Create Post"}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{disabled:pe,color:"danger",onClick:function(){return L(!1)},children:"Close"})})]})}),Object(x.jsx)(l.l,{children:Object(x.jsxs)("form",{onSubmit:ve,className:"createAlbum_form",children:[Object(x.jsx)("input",{type:"file",onChange:fe,multiple:!0}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Title"}),Object(x.jsx)(l.p,{value:P,onIonChange:function(e){return I(e.detail.value)}})]}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Body"}),Object(x.jsx)(l.p,{multiple:!0,value:B,onIonChange:function(e){return F(e.detail.value)}})]}),Object(x.jsx)(l.d,{disabled:pe,type:"submit",expand:"full",children:pe?Object(x.jsx)(l.C,{name:"circles"}):"Create"})]})})]}),Object(x.jsxs)(l.u,{backdropDismiss:!xe,onDidDismiss:function(){return H(!1)},isOpen:M,children:[Object(x.jsx)(l.n,{children:Object(x.jsxs)(l.I,{children:[Object(x.jsx)(l.G,{className:"page__Title",children:"Create Album"}),Object(x.jsx)(l.e,{slot:"end",children:Object(x.jsx)(l.d,{disabled:xe,color:"danger",onClick:function(){return H(!1)},children:"Close"})})]})}),Object(x.jsx)(l.l,{children:Object(x.jsxs)("form",{onSubmit:_e,className:"createAlbum_form",children:[Object(x.jsx)(g.a,{className:"createAlbum__modal__colorpicker",color:te,onChangeComplete:function(e,t){ae(e.hex)}}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Title"}),Object(x.jsx)(l.p,{value:J,onIonChange:function(e){return $(e.detail.value)}})]}),Object(x.jsxs)(l.q,{children:[Object(x.jsx)(l.r,{position:"floating",children:"Description"}),Object(x.jsx)(l.p,{multiple:!0,value:X,onIonChange:function(e){return Y(e.detail.value)}})]}),Object(x.jsx)(l.d,{disabled:xe,type:"submit",expand:"full",children:xe?Object(x.jsx)(l.C,{name:"circles"}):"Edit"})]})})]})]})]})}),U=(a(285),function(){return Object(r.useContext)(s).isLoggedIn?Object(x.jsxs)(l.F,{className:"loggedInApp__iotabs",children:[Object(x.jsxs)(l.z,{children:[Object(x.jsx)(o.b,{exact:!0,path:"/my/account",component:E}),Object(x.jsx)(o.b,{exact:!0,path:"/my/groups",component:A}),Object(x.jsx)(o.b,{exact:!0,path:"/my/groups/:groupId",component:y}),Object(x.jsx)(o.b,{exact:!0,path:"/my/albums/:albumId",component:G})]}),Object(x.jsxs)(l.D,{slot:"bottom",className:"loggedInApp__tabBar",children:[Object(x.jsxs)(l.E,{tab:"account",href:"/my/account",children:[Object(x.jsx)(l.o,{icon:u.q}),Object(x.jsx)(l.r,{children:"Profile"})]}),Object(x.jsxs)(l.E,{tab:"groups",href:"/my/groups",children:[Object(x.jsx)(l.o,{icon:u.p}),Object(x.jsx)(l.r,{children:"Groups"})]})]})]}):Object(x.jsx)(o.a,{to:"/login"})}),P=(a(286),function(e){return e.length>=6}),I=function(e){return!!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)},T=function(){var e=Object(r.useContext)(s),t=e.isLoggedIn,a=e.loginUser,n=e.loginUserLoading,c=e.loginUserError,i=e.setLoginUserError,d=Object(r.useState)(""),O=Object(p.a)(d,2),g=O[0],h=O[1],m=Object(r.useState)(""),f=Object(p.a)(m,2),v=f[0],_=f[1],y=Object(r.useRef)(null),D=Object(r.useRef)(null),L=function(){var e=Object(b.a)(j.a.mark((function e(){var t,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(g)){e.next=3;break}return null===(t=y.current)||void 0===t||t.setFocus(),e.abrupt("return",i("Invalid Email"));case 3:if(P(v)){e.next=6;break}return null===(r=D.current)||void 0===r||r.setFocus(),e.abrupt("return",i("Password should be min of 6 characters"));case 6:return n={email:g,password:v},e.next=9,a(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?Object(x.jsx)(o.a,{to:"/my/account"}):Object(x.jsx)(l.v,{children:Object(x.jsxs)(l.l,{fullscreen:!0,children:[Object(x.jsx)(l.H,{isOpen:""!==c,onDidDismiss:function(){return i("")},message:c,color:"danger",duration:5e3,buttons:[{side:"end",role:"cancel",icon:u.i,handler:function(){i("")}}]}),Object(x.jsxs)("div",{className:"login__container",children:[Object(x.jsx)("img",{className:"login__backgroundimage",src:"/background-image.png",alt:""}),Object(x.jsx)("div",{className:"login__layover"}),Object(x.jsx)("img",{className:"login__applogo",src:"/app-logo.png",alt:""}),Object(x.jsx)("h2",{className:"login__welcome",children:"Welcome to"}),Object(x.jsx)("h1",{className:"login__appname",children:"Digital Share"}),Object(x.jsxs)("form",{className:"login__form",children:[Object(x.jsx)("div",{className:"login__form-background"}),Object(x.jsx)("h2",{className:"login__title",children:"Login"}),Object(x.jsxs)(l.q,{className:"ion-margin-top",children:[Object(x.jsx)(l.r,{position:"floating",children:"Email"}),Object(x.jsx)(l.p,{type:"email",value:g,onIonChange:function(e){return h(e.detail.value)},ref:y})]}),Object(x.jsxs)(l.q,{className:"ion-margin-top",children:[Object(x.jsx)(l.r,{position:"floating",children:"Password"}),Object(x.jsx)(l.p,{type:"password",value:v,onIonChange:function(e){return _(e.detail.value)},ref:D})]}),Object(x.jsx)(l.d,{disabled:n,expand:"full",onClick:L,className:"login__actionbtn",children:n?Object(x.jsx)(l.C,{name:"circles"}):"Login"}),Object(x.jsxs)("div",{className:"login__registerActions",children:[Object(x.jsx)("p",{children:"Don't have an account?"}),Object(x.jsx)(l.y,{routerLink:"/register",children:"Sign up"})]})]})]})]})})},R=(a(287),function(){var e=Object(r.useContext)(s),t=e.isLoggedIn,a=e.registerUser,n=e.registerUserLoading,c=e.registerUserError,i=e.setRegisterUserError,d=Object(r.useState)(""),O=Object(p.a)(d,2),g=O[0],h=O[1],m=Object(r.useState)(""),f=Object(p.a)(m,2),v=f[0],_=f[1],y=Object(r.useState)(""),D=Object(p.a)(y,2),L=D[0],A=D[1],E=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(v)){e.next=2;break}return e.abrupt("return",i("Invalid Email"));case 2:if(P(L)){e.next=4;break}return e.abrupt("return",i("Password should be min of 6 characters"));case 4:return t={username:g,email:v,password:L},e.next=7,a(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?Object(x.jsx)(o.a,{to:"/my/account"}):Object(x.jsx)(l.v,{children:Object(x.jsxs)(l.l,{fullscreen:!0,children:[Object(x.jsx)(l.H,{isOpen:""!==c,onDidDismiss:function(){return i("")},message:c,color:"danger",duration:5e3,buttons:[{side:"end",role:"cancel",icon:u.i,handler:function(){i("")}}]}),Object(x.jsxs)("div",{className:"register__container",children:[Object(x.jsx)("img",{className:"register__backgroundimage",src:"/background-image.png",alt:""}),Object(x.jsx)("div",{className:"register__layover"}),Object(x.jsx)("img",{className:"register__applogo",src:"/app-logo.png",alt:""}),Object(x.jsx)("h2",{className:"register__welcome",children:"Welcome to"}),Object(x.jsx)("h1",{className:"register__appname",children:"Digital Share"}),Object(x.jsxs)("form",{className:"register__form",children:[Object(x.jsx)("div",{className:"register__form-background"}),Object(x.jsx)("h2",{className:"register__title",children:"Sign Up"}),Object(x.jsxs)(l.q,{className:"ion-margin-top",children:[Object(x.jsx)(l.r,{position:"floating",children:"Username"}),Object(x.jsx)(l.p,{type:"text",value:g,onIonChange:function(e){return h(e.detail.value)}})]}),Object(x.jsxs)(l.q,{className:"ion-margin-top",children:[Object(x.jsx)(l.r,{position:"floating",children:"Email"}),Object(x.jsx)(l.p,{type:"email",value:v,onIonChange:function(e){return _(e.detail.value)}})]}),Object(x.jsxs)(l.q,{className:"ion-margin-top",children:[Object(x.jsx)(l.r,{position:"floating",children:"Password"}),Object(x.jsx)(l.p,{type:"password",value:L,onIonChange:function(e){return A(e.detail.value)}})]}),Object(x.jsx)(l.d,{disabled:n,expand:"full",onClick:E,className:"register__actionbtn",children:n?Object(x.jsx)(l.C,{name:"circles"}):"Sign Up"}),Object(x.jsxs)("div",{className:"register__registerActions",children:[Object(x.jsx)("p",{children:"Already have an account?"}),Object(x.jsx)(l.y,{routerLink:"/login",children:"Login"})]})]})]})]})})}),B=function(){var e=Object(r.useContext)(s),t=e.getUserLoading,a=e.getCurrentUserFromToken,n=localStorage.authToken;return Object(r.useEffect)((function(){n&&a()}),[n]),t?Object(x.jsx)(l.t,{isOpen:!0}):Object(x.jsx)(l.b,{children:Object(x.jsx)(i.a,{children:Object(x.jsxs)(l.z,{children:[Object(x.jsx)(o.b,{exact:!0,path:"/login",children:Object(x.jsx)(T,{})}),Object(x.jsx)(o.b,{exact:!0,path:"/register",children:Object(x.jsx)(R,{})}),Object(x.jsx)(o.b,{path:"/my",children:Object(x.jsx)(U,{})}),Object(x.jsx)(o.a,{exact:!0,path:"/",to:"/my/account"})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=function(e){e&&e instanceof Function&&a.e(58).then(a.bind(null,366)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))},z=(a(288),a(289),a(290),a(291),a(292),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(3)),q="GET_AUTH_USER_LOADING",M="GET_AUTH_USER_SUCCESS",H="GET_AUTH_USER_FAIL",W="LOGIN_USER_LOADING",K="LOGIN_USER_SUCCESS",J="LOGIN_USER_FAIL",$="REGISTER_USER_LOADING",V="REGISTER_USER_SUCCESS",Q="REGISTER_USER_FAIL",X="LOGOUT_USER",Y=function(e,t){switch(t.type){case q:return Object(z.a)(Object(z.a)({},e),{},{getUserLoading:!0});case M:return Object(z.a)(Object(z.a)({},e),{},{userData:t.payload,isLoggedIn:!0,getUserLoading:!1});case H:return Object(z.a)(Object(z.a)({},e),{},{userData:null,isLoggedIn:!1,getUserLoading:!1,getUserError:t.payload});case W:return Object(z.a)(Object(z.a)({},e),{},{loginUserLoading:!0});case K:return Object(z.a)(Object(z.a)({},e),{},{loginUserLoading:!1,userData:t.payload,isLoggedIn:!0});case J:return Object(z.a)(Object(z.a)({},e),{},{loginUserLoading:!1,userData:null,isLoggedIn:!1,loginUserError:t.payload});case $:return Object(z.a)(Object(z.a)({},e),{},{registerUserLoading:!0});case V:return Object(z.a)(Object(z.a)({},e),{},{userData:t.payload,registerUserLoading:!1,isLoggedIn:!0});case Q:return Object(z.a)(Object(z.a)({},e),{},{registerUserLoading:!1,userData:null,isLoggedIn:!1,registerUserError:t.payload});case X:return Object(z.a)(Object(z.a)({},e),{},{userData:null,isLoggedIn:!1});default:return e}},Z=function(e){var t=e.children,a=Object(r.useReducer)(Y,{userData:null,isLoggedIn:!1,getUserLoading:!1,getUserError:"",loginUserLoading:!1,loginUserError:"",registerUserLoading:!1,registerUserError:""}),n=Object(p.a)(a,2),c=n[0],o=n[1],i=Object(r.useCallback)(Object(b.a)(j.a.mark((function e(){var t,a,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:q}),e.prev=1,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.next=5,_.a.get("".concat(h,"/auth/logged-in"),t);case 5:a=e.sent,r=a.data.data,o({type:M,payload:r}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),localStorage.removeItem("authToken"),n=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",o({type:H,payload:n});case 15:case"end":return e.stop()}}),e,null,[[1,10]])}))),[]),l=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o({type:$}),a={headers:{"Content-Type":"application/json"}},e.next=5,_.a.post("".concat(h,"/auth/register"),t,a);case 5:r=e.sent,n=r.data.data.user,r.data.success&&(localStorage.setItem("authToken",r.data.data.token),o({type:V,payload:n})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",o({type:Q,payload:c});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o({type:W}),a={headers:{"Content-Type":"application/json"}},e.next=5,_.a.post("".concat(h,"/auth/login"),t,a);case 5:r=e.sent,n=r.data.data.user,r.data.success&&(localStorage.setItem("authToken",r.data.data.token),o({type:K,payload:n})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",o({type:J,payload:c});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(s.Provider,{value:{userData:c.userData,isLoggedIn:c.isLoggedIn,getUserLoading:c.getUserLoading,getUserError:c.getUserError,loginUserLoading:c.loginUserLoading,loginUserError:c.loginUserError,registerUserLoading:c.registerUserLoading,registerUserError:c.registerUserError,getCurrentUserFromToken:i,registerUser:l,loginUser:u,logoutUser:function(){o({type:X}),localStorage.removeItem("authToken")},setLoginUserError:function(e){o({type:J,payload:e})},setRegisterUserError:function(e){o({type:Q,payload:e})}},children:t})},ee=a(32),te="GET_ALL_USER_GROUPS_LOADING",ae="GET_ALL_USER_GROUPS_SUCCES",re="GET_ALL_USER_GROUPS_FAIL",ne="ADD_NEW_GROUP_LOADING",ce="ADD_NEW_GROUP_SUCCESS",se="ADD_NEW_GROUP_FAIL",oe="DELETE_GROUP_LOADING",ie="DELETE_GROUP_SUCCESS",le="DELETE_GROUP_FAIL",ue="SEARCH_GROUPS",de=function(e,t){switch(t.type){case te:return Object(z.a)(Object(z.a)({},e),{},{groupsDataLoading:!0});case ae:return Object(z.a)(Object(z.a)({},e),{},{groupsDataLoading:!1,groupsData:t.payload,searchResults:t.payload});case re:return Object(z.a)(Object(z.a)({},e),{},{groupsDataLoading:!1,groupsDataError:t.payload});case ue:var a=e.groupsData.filter((function(e){return e.title.toLowerCase().includes(t.payload.toLowerCase())}));return Object(z.a)(Object(z.a)({},e),{},{searchResults:a});case ne:return Object(z.a)(Object(z.a)({},e),{},{addGroupLoading:!0});case ce:return Object(z.a)(Object(z.a)({},e),{},{addGroupLoading:!1,groupsData:[].concat(Object(ee.a)(e.groupsData),[t.payload]),searchResults:[].concat(Object(ee.a)(e.searchResults),[t.payload])});case se:return Object(z.a)(Object(z.a)({},e),{},{addGroupError:t.payload,addGroupLoading:!1});case oe:return Object(z.a)(Object(z.a)({},e),{},{deleteGroupLoading:!0});case ie:return console.log(e.groupsData),Object(z.a)(Object(z.a)({},e),{},{deleteGroupLoading:!1,groupsData:e.groupsData.filter((function(e){return e.id!==t.payload})),searchResults:e.searchResults.filter((function(e){return e.id!==t.payload}))});case le:return Object(z.a)(Object(z.a)({},e),{},{deleteGroupLoading:!1,deleteGroupError:t.payload});default:return e}},je=function(e){var t=e.children,a=Object(r.useReducer)(de,{groupsDataLoading:!1,groupsDataError:"",groupsData:[],searchResults:[],addGroupLoading:!1,addGroupError:"",deleteGroupLoading:!1,deleteGroupError:""}),n=Object(p.a)(a,2),c=n[0],s=n[1],o=Object(r.useCallback)(Object(b.a)(j.a.mark((function e(){var t,a,r,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),e.prev=1,s({type:te}),a={headers:{Authorization:"Bearer ".concat(t)}},e.next=6,_.a.get("".concat(h,"/groups"),a);case 6:r=e.sent,n=r.data.data,s({type:ae,payload:n}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),c=e.t0.response?e.t0.response.data.message:"Something went wrong",s({type:ae,payload:c});case 15:case"end":return e.stop()}}),e,null,[[1,11]])}))),[]),i=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.prev=1,s({type:ne}),r=localStorage.getItem("authToken"),n={headers:{Authorization:"Bearer ".concat(r)}},e.next=7,_.a.post("".concat(h,"/groups"),a,n);case 7:c=e.sent,o=c.data.data,console.log(o),s({type:ce,payload:o}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),i=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:se,payload:i});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:oe}),a=localStorage.getItem("authToken"),r={headers:{Authorization:"Bearer ".concat(a)}},e.next=6,_.a.delete("".concat(h,"/groups/").concat(t),r);case 6:e.sent.data.success&&s({type:ie,payload:t}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:le,payload:n});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(m.Provider,{value:{groupsData:c.groupsData,groupsDataLoading:c.groupsDataLoading,groupsDataError:c.groupsDataError,searchResults:c.searchResults,addGroupLoading:c.addGroupLoading,addGroupError:c.addGroupError,deleteGroupLoading:c.deleteGroupLoading,deleteGroupError:c.deleteGroupError,getUserGroupsData:o,setGroupsDataError:function(e){s({type:re,payload:e})},searchGroupsHandler:function(e){s({type:ue,payload:e.detail.value})},createNewGroup:i,deleteGroup:l},children:t})},be="GET_GROUPDATA_LOADING",pe="GET_GROUPDATA_SUCCESS",Oe="GET_GROUP_ALBUMS_SUCCESS",ge="GET_GROUP_ALBUMS_FAIL",he="GET_GROUP_ALBUMS_LOADING",me="EDIT_GROUP_LOADING",xe="EDIT_GROUP_SUCCESS",fe="EDIT_GROUP_FAIL",ve="ADD_NEW_ALBUM_LOADING",_e="ADD_NEW_ALBUM_SUCCESS",ye="ADD_NEW_ALBUM_FAIL",De="DELETE_ALBUM_LOADING",Le="DELETE_ALBUM_SUCCESS",Ae="DELETE_ALBUM_FAIL",Ee="CLEAR_GROUP_DATA",we=function(e,t){switch(t.type){case be:return Object(z.a)(Object(z.a)({},e),{},{groupDataLoading:!0});case pe:return Object(z.a)(Object(z.a)({},e),{},{groupDataLoading:!1,groupData:t.payload});case"GET_GROUPDATA_FAIL":return Object(z.a)(Object(z.a)({},e),{},{groupDataLoading:!1,groupDataError:t.payload});case me:return Object(z.a)(Object(z.a)({},e),{},{editGroupLoading:!0});case xe:return Object(z.a)(Object(z.a)({},e),{},{editGroupLoading:!1,groupData:t.payload});case fe:return Object(z.a)(Object(z.a)({},e),{},{editGroupLoading:!1,editGroupError:t.payload});case Ee:return Object(z.a)(Object(z.a)({},e),{},{groupData:null,groupDataLoading:!1,groupDataError:"",albumData:[],searchAlbums:[],albumDataLoading:!1,albumDataError:""});case he:return Object(z.a)(Object(z.a)({},e),{},{albumDataLoading:!0});case Oe:return Object(z.a)(Object(z.a)({},e),{},{albumDataLoading:!1,albumData:t.payload,searchAlbums:t.payload});case ge:return Object(z.a)(Object(z.a)({},e),{},{albumDataLoading:!1,albumDataError:t.payload});case ve:return Object(z.a)(Object(z.a)({},e),{},{addAlbumLoading:!0});case _e:return Object(z.a)(Object(z.a)({},e),{},{addAlbumLoading:!1,albumData:[].concat(Object(ee.a)(e.albumData),[t.payload]),searchAlbums:[].concat(Object(ee.a)(e.searchAlbums),[t.payload])});case ye:return Object(z.a)(Object(z.a)({},e),{},{addAlbumLoading:!1,addAlbumError:t.payload});case De:return Object(z.a)(Object(z.a)({},e),{},{deleteAlbumLoading:!0});case Le:return Object(z.a)(Object(z.a)({},e),{},{deleteAlbumLoading:!1,albumData:e.albumData.filter((function(e){return e.id!==t.payload}))});case Ae:return Object(z.a)(Object(z.a)({},e),{},{deleteAlbumLoading:!1,deleteAlbumError:t.payload});default:return e}},Ce=function(e){var t=e.children,a=Object(r.useReducer)(we,{groupData:null,groupDataLoading:!1,groupDataError:"",editGroupLoading:!1,editGroupError:"",albumData:[],searchAlbums:[],albumDataLoading:!1,albumDataError:"",deleteAlbumLoading:!1,deleteAlbumError:"",addAlbumLoading:!1,addAlbumError:""}),n=Object(p.a)(a,2),c=n[0],s=n[1],o=Object(r.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:be}),r=localStorage.getItem("authToken"),n={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,_.a.get("".concat(h,"/groups/").concat(t),n);case 6:c=e.sent,o=null===(a=c.data)||void 0===a?void 0:a.data,s({type:pe,payload:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.respose?e.t0.response.data.message:"Something went wrong please try again",s({type:pe,payload:i});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[]),i=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("authToken"),r={headers:{Authorization:"Bearer ".concat(a)}},s({type:he}),e.next=6,_.a.post("".concat(h,"/albums/group-albums"),{groupId:t},r);case 6:n=e.sent,c=n.data.data,s({type:Oe,payload:c}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:ge,payload:o});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.prev=1,s({type:ve}),r=localStorage.getItem("authToken"),n={headers:{Authorization:"Bearer ".concat(r)}},e.next=7,_.a.post("".concat(h,"/albums"),a,n);case 7:c=e.sent,o=c.data.data,s({type:_e,payload:o}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),i=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:ye,payload:i});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:De}),a={headers:{Authorization:"Bearer ".concat(localStorage.authToken)}},e.next=5,_.a.delete("".concat(h,"/albums/").concat(t),a);case 5:s({type:Le,payload:t}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:Ae,payload:r});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(b.a)(j.a.mark((function e(t,a){var r,n,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:me}),r={headers:{Authorization:"Bearer ".concat(localStorage.authToken)}},e.next=5,_.a.put("".concat(h,"/groups/").concat(t),a,r);case 5:n=e.sent,c=n.data.data,s({type:xe,payload:c}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),o=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:fe,payload:o});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsx)(O.Provider,{value:{groupData:c.groupData,groupDataLoading:c.groupDataLoading,groupDataError:c.groupDataError,searchAlbums:c.searchAlbums,albumData:c.albumData,albumDataLoading:c.albumDataLoading,albumDataError:c.albumDataError,addAlbumLoading:c.addAlbumLoading,addAlbumError:c.addAlbumError,deleteAlbumLoading:c.deleteAlbumLoading,deleteAlbumError:c.deleteAlbumError,editGroupLoading:c.editGroupLoading,editGroupError:c.editGroupError,editGroup:d,getGroupData:o,getGroupAlbumData:i,clearGroupData:function(){s({type:Ee})},searchAlbumsHandler:function(e){s({type:"SEARCH_ALBUMS",payload:e.detail.value})},createNewAlbum:l,deleteAlbum:u},children:t})},Se="GET_ALBUMDATA_LOADING",ke="GET_ALBUMDATA_SUCCESS",Ne="GET_ALBUM_POSTS_LOADING",Ge="GET_ALBUM_POSTS_SUCCESS",Ue="GET_ALBUM_POSTS_FAIL",Pe="CLEAR_ALBUM_DATA",Ie="ADD_NEW_POST_LOADING",Te="ADD_NEW_POST_SUCCESS",Re="ADD_NEW_POST_FAIL",Be="DELETE_POST_LOADING",Fe="DELETE_POST_SUCCESS",ze="DELETE_POST_FAIL",qe="EDIT_ALBUM_LOADING",Me="EDIT_ALBUM_SUCCESS",He="EDIT_ALBUM_FAIL",We=function(e,t){switch(t.type){case Se:return Object(z.a)(Object(z.a)({},e),{},{albumDataLoading:!0});case ke:return Object(z.a)(Object(z.a)({},e),{},{albumDataLoading:!1,currentAlbum:t.payload});case"GET_ALBUMDATA_FAIL":return Object(z.a)(Object(z.a)({},e),{},{albumDataLoading:!1,albumDataError:t.payload});case Ne:return Object(z.a)(Object(z.a)({},e),{},{postsDataLoading:!0});case Ge:return Object(z.a)(Object(z.a)({},e),{},{postsDataLoading:!1,albumPosts:t.payload});case Ue:return Object(z.a)(Object(z.a)({},e),{},{postsDataLoading:!1,postsDataError:t.payload});case qe:return Object(z.a)(Object(z.a)({},e),{},{editAlbumLoading:!0});case Me:return Object(z.a)(Object(z.a)({},e),{},{editAlbumLoading:!1,currentAlbum:t.payload});case He:return Object(z.a)(Object(z.a)({},e),{},{editAlbumLoading:!1,editAlbumError:t.payload});case Ie:return Object(z.a)(Object(z.a)({},e),{},{addNewPostLoading:!0});case Te:return Object(z.a)(Object(z.a)({},e),{},{addNewPostLoading:!1,albumPosts:[t.payload].concat(Object(ee.a)(e.albumPosts))});case Re:return Object(z.a)(Object(z.a)({},e),{},{addNewPostLoading:!1,addNewPostError:t.payload});case Be:return Object(z.a)(Object(z.a)({},e),{},{deletePostLoading:!0});case Fe:return Object(z.a)(Object(z.a)({},e),{},{deletePostLoading:!1,albumPosts:e.albumPosts.filter((function(e){return e.id!==t.payload}))});case ze:return Object(z.a)(Object(z.a)({},e),{},{deletePostLoading:!1,deletePostError:t.payload});case Pe:return Object(z.a)(Object(z.a)({},e),{},{currentAlbum:null,albumDataLoading:!1,albumDataError:"",albumPosts:[],postsDataLoading:!1,postsDataError:""});default:return e}},Ke=function(e){var t=e.children,a=Object(r.useReducer)(We,{currentAlbum:null,albumDataLoading:!1,albumDataError:"",albumPosts:[],postsDataLoading:!1,postsDataError:"",editAlbumLoading:!1,editAlbumError:"",deleteAlbumLoading:!1,deleteAlbumError:"",addNewPostLoading:!0,addNewPostError:"",deletePostLoading:!1,deletePostError:""}),n=Object(p.a)(a,2),c=n[0],s=n[1],o=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:Se}),r=localStorage.getItem("authToken"),n={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,_.a.get("".concat(h,"/albums/").concat(t),n);case 6:c=e.sent,o=null===(a=c.data)||void 0===a?void 0:a.data,s({type:ke,payload:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.respose?e.t0.response.data.message:"Something went wrong please try again",s({type:ke,payload:i});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("authToken"),r={headers:{Authorization:"Bearer ".concat(a)}},s({type:Ne}),e.next=6,_.a.post("".concat(h,"/posts/album-posts"),{albumId:t},r);case 6:n=e.sent,c=n.data.data,s({type:Ge,payload:c}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:Ue,payload:o});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r,n,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:Ie}),a=localStorage.getItem("authToken"),r={headers:{Authorization:"Bearer ".concat(a)}},e.next=6,_.a.post("".concat(h,"/posts"),t,r);case 6:n=e.sent,c=n.data.data,s({type:Te,payload:c}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:Re,payload:o});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:Be}),a={headers:{Authorization:"Bearer ".concat(localStorage.authToken)}},e.next=5,_.a.delete("".concat(h,"/posts/").concat(t),a);case 5:s({type:Fe,payload:t}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:ze,payload:r});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(b.a)(j.a.mark((function e(t,a){var r,n,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:qe}),r={headers:{Authorization:"Bearer ".concat(localStorage.authToken)}},e.next=5,_.a.put("".concat(h,"/albums/").concat(t),a,r);case 5:n=e.sent,c=n.data.data,s({type:Me,payload:c}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),o=e.t0.response?e.t0.response.data.message:"Something went wrong please try again",s({type:He,payload:o});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsx)(k.Provider,{value:{currentAlbum:c.currentAlbum,albumDataLoading:c.albumDataLoading,albumDataError:c.albumDataError,albumPosts:c.albumPosts,postsDataLoading:c.postsDataLoading,postsDataError:c.postsDataError,deletePostLoading:c.deletePostLoading,deletePostError:c.deletePostError,deleteAlbumLoading:c.deleteAlbumLoading,deleteAlbumError:c.deleteAlbumError,editAlbumLoading:c.editAlbumLoading,editAlbumError:c.editAlbumError,getAlbumData:o,getAlbumPostData:i,clearAlbumData:function(){s({type:Pe})},searchPostsHandler:function(e){s({type:"SEARCH_POSTS",payload:e.detail.value})},createNewPost:l,deletePost:u,editAlbum:d},children:t})};c.a.render(Object(x.jsx)(Z,{children:Object(x.jsx)(je,{children:Object(x.jsx)(Ce,{children:Object(x.jsx)(Ke,{children:Object(x.jsx)(B,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),F()}},[[300,3,4]]]);
//# sourceMappingURL=main.a5dab5bc.chunk.js.map